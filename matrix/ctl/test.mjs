#!/usr/bin/bun
import{$}from'bun';
const
w=Bun.file('/dev/ttyUSB0').writer();

await $`stty -F /dev/ttyUSB0 115200 -onlcr -echo -echoctl`;

let a=0;
setInterval(_=>(
w.write(new Uint8Array(
	(a=!a)?[
		0x12,
		0b00000000,0b00000000,
		0b00000000,0b00000000,
		0b00000000,0b00000000,
		0b00000000,0b00000000,
		0b00000000,0b00000000,
		0b00000000,0b00000000,
		0b00000000,0b00000000,
		0b00000000,0b00000000,

		0b00000000,0b00000000,
		0b01000001,0b01111111,
		0b01100001,0b00001000,
		0b01010001,0b00001000,
		0b01001001,0b00001000,
		0b01000101,0b00001000,
		0b01000011,0b00001000,
		0b01000001,0b00001000,
	]:[
		0x12,
		0b00001000,0b00000000,
		0b00010100,0b01101111,
		0b00100010,0b00001001,
		0b01011101,0b01101111,
		0b00001000,0b00001010,
		0b00111110,0b00101010,
		0b00101010,0b01001001,
		0b01111111,0b01010001,

		0b00001000,0b00000000,
		0b00010100,0b01101111,
		0b00100010,0b00001001,
		0b01011101,0b01101111,
		0b00001000,0b00001010,
		0b00111110,0b00101010,
		0b00101010,0b01001001,
		0b01111111,0b01010001,
	]
),
w.flush()
)),1000); 
// w.end();
await new Promise(f=>setTimeout(f,100));
